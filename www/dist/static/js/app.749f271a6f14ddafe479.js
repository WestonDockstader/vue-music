webpackJsonp([1],{"14js":function(t,s){},AjYv:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("7+uW"),a={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]};var n=e("VU/8")({name:"App"},a,!1,function(t){e("zvn0")},null,null).exports,l=e("/ocq"),c={name:"tracks-list",props:{list:{type:Array,required:!0},buttonText:{type:String,required:!0},handleButtonClick:{type:Function,required:!0}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row justify-content-around"},t._l(t.list,function(s){return e("div",{staticClass:"col-6 dis-card"},[e("img",{staticClass:"img-class",attrs:{src:s.albumArt,alt:""}}),t._v(" "),e("p",{staticClass:"song-info"},[e("strong",[t._v(t._s(s.title)+" "+t._s(s.artist))])]),t._v(" "),e("p",{staticClass:"song-info"},[t._v("Album: "+t._s(s.album))]),t._v(" "),e("button",{staticClass:"btn-list",on:{click:function(e){t.handleButtonClick(s)}}},[t._v(t._s(t.buttonText))]),t._v(" "),e("audio",{ref:"player",refInFor:!0,attrs:{controls:""}},[e("source",{attrs:{src:s.preview}})])])}))},staticRenderFns:[]};var r=e("VU/8")(c,o,!1,function(t){e("AjYv")},null,null).exports,u=e("DAYN"),d={name:"tracks-list",mounted:function(){this.songs=this.$store.state.activeList.songs},data:function(){return{songs:[]}},computed:{activeList:function(){return this.$store.state.activeList}},props:{list:{type:Array,required:!0},buttonText:{type:String,required:!0},handleButtonClick:{type:Function,required:!0},value:{type:Array,required:!1,default:null}},components:{draggable:e.n(u).a},methods:{updateList:function(){this.activeList.songs=this.songs;var t=this.activeList;this.$store.dispatch("updatePlaylist",t)}}},v={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"playlist"},[e("h1",[t._v(t._s(t.list.title))]),t._v(" "),e("draggable",{on:{change:t.updateList},model:{value:t.songs,callback:function(s){t.songs=s},expression:"songs"}},t._l(t.songs,function(s,i){return e("div",{key:s._id,staticClass:"dis-card"},[e("img",{staticClass:"img-class",attrs:{src:s.albumArt,alt:""}}),t._v(" "),e("p",{staticClass:"song-info"},[e("strong",[t._v(t._s(s.title)+" - "+t._s(s.artist))])]),t._v(" "),e("p",{staticClass:"song-info"},[t._v("Album: "+t._s(s.album))]),t._v(" "),e("button",{staticClass:"btn-list",on:{click:function(s){t.handleButtonClick(i)}}},[t._v(t._s(t.buttonText))]),t._v(" "),e("audio",{attrs:{controls:""}},[e("source",{attrs:{src:s.preview}})])])}))],1)},staticRenderFns:[]};var p={name:"Home",components:{tracks:r,ptracks:e("VU/8")(d,v,!1,function(t){e("14js")},null,null).exports},data:function(){return{query:"",artist:"",addPlayForm:!1,list:{title:""},changeDisplay:!0}},mounted:function(){this.$store.dispatch("getPlaylists")},computed:{results:function(){return this.$store.state.searchResults},playlists:function(){return this.$store.state.playlists},activeList:function(){return this.$store.state.activeList}},methods:{search:function(){this.$store.dispatch("search",this.query),this.artist=this.query,this.query=""},addToPlayList:function(t){this.activeList.songs.push(t),this.$store.dispatch("addToPlayList",this.activeList)},createPlaylist:function(){this.$store.dispatch("createPlaylist",this.list)},deletePlaylist:function(t){this.$store.dispatch("deletePlaylist",t)},setActiveList:function(t){this.$store.commit("setActiveList",t)},removeFromPlayList:function(t){this.$store.dispatch("removeFromPlaylist",t)}}},m={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col text-center"},[e("div",{staticClass:"searchbar justify-content-center"},[e("h1",{staticClass:"title-style"},[t._v("FindTunes")]),t._v(" "),e("div",{staticClass:"d-flex flex-row justify-content-center"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.search(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{type:"text",placeholder:"Artist Name"},domProps:{value:t.query},on:{input:function(s){s.target.composing||(t.query=s.target.value)}}}),t._v(" "),e("button",{staticClass:"btn mr-3",attrs:{type:"submit"}},[t._v("Search")])]),t._v(" "),e("button",{staticStyle:{"margin-bottom":"1rem"},on:{click:function(s){t.addPlayForm=!0}}},[t._v("Create Playlist")]),t._v(" "),t.addPlayForm?e("form",{on:{submit:function(s){return s.preventDefault(),t.createPlaylist(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.list.title,expression:"list.title"}],attrs:{type:"text"},domProps:{value:t.list.title},on:{input:function(s){s.target.composing||t.$set(t.list,"title",s.target.value)}}}),t._v(" "),e("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(s){t.addPlayForm=!1}}},[t._v("Submit")]),t._v(" "),e("button",{staticClass:"btn",on:{click:function(s){t.addPlayForm=!1}}},[t._v("Cancel")])]):t._e()])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-8 search-res"},[e("h2",[t._v("Search results for: "+t._s(t.artist))]),t._v(" "),e("tracks",{attrs:{list:t.results,"button-text":"Add to Playlist","handle-button-click":t.addToPlayList}})],1),t._v(" "),e("div",{staticClass:"col-4 playlists"},[e("div",{staticClass:"row text-center"},[t.changeDisplay?e("div",{staticClass:"col-12"},[e("h1",[t._v("Your Playlists")]),t._v(" "),t.playlists?e("div",t._l(t.playlists,function(s){return e("div",{staticClass:"playlist-card pt-1 mt-3"},[e("h2",{staticStyle:{"padding-top":"1.5rem"}},[t._v(t._s(s.title))]),t._v(" "),e("p",[t._v(t._s(s.songs.length)+" tracks")]),t._v(" "),e("div",{staticClass:"align-self-end",staticStyle:{"padding-bottom":"1rem"}},[e("button",{staticClass:"btn",on:{click:function(e){t.deletePlaylist(s)}}},[t._v("Delete")]),t._v(" "),e("button",{staticClass:"btn",on:{click:function(e){t.changeDisplay=!1,t.setActiveList(s)}}},[t._v("Open Playlist")])])])})):t._e()]):t._e(),t._v(" "),t.changeDisplay?t._e():e("div",{staticClass:"col-12"},[e("button",{on:{click:function(s){t.changeDisplay=!0}}},[t._v("Back to Playlists")]),t._v(" "),e("h2",[t._v(t._s(t.activeList.title))]),t._v(" "),e("ptracks",{attrs:{list:t.activeList.songs,"button-text":"Remove From Playlist","handle-button-click":t.removeFromPlayList}})],1)])])])])},staticRenderFns:[]};var h=e("VU/8")(p,m,!1,function(t){e("TKZ0")},"data-v-2589ce4a",null).exports;i.a.use(l.a);var f=new l.a({routes:[{path:"/",name:"Home",component:h}]}),y=e("NYxO"),_=e("mtWM"),g=e.n(_),b=!window.location.host.includes("localhost")?"//mytunes-vue.herokuapp.com/":"//localhost:3000/",P=g.a.create({baseURL:b+"api",timeout:3e3}),C=g.a.create({baseURL:"https://itunes.apple.com/",timeout:3e3});i.a.use(y.a);var L=new y.a.Store({state:{user:{},playlists:[],searchResults:[],activeList:{}},mutations:{setUser:function(t,s){t.user=s},addSong:function(t,s){t.playlists=s},setSearchResults:function(t,s){t.searchResults=[],t.searchResults=s},setPlaylists:function(t,s){t.playlists=s},setActiveList:function(t,s){t.activeList=s},updateList:function(t,s){t.activeList.songs=s}},actions:{search:function(t,s){var e=t.dispatch,i=t.commit;C.get("search?media=music&term="+s).then(function(t){var s=t.data.results.map(function(t){return{title:t.trackName,albumArt:(s=t.artworkUrl60,e=100,i=e+"x"+e,s.replace("60x60",i)),artist:t.artistName,album:t.collectionName,price:t.collectionPrice,preview:t.previewUrl};var s,e,i});i("setSearchResults",s)}).catch(function(t){return e("showNotification",t)})},getPlaylists:function(t){t.dispatch;var s=t.commit;P.get("/playlists").then(function(t){s("setPlaylists",t.data)})},createPlaylist:function(t,s){var e=t.dispatch;t.commit;P.post("/playlists",s).then(function(t){e("getPlaylists")})},addToPlayList:function(t,s){var e=t.dispatch;t.commit;P.put("/playlists/"+s._id,s).then(function(t){e("getPlaylists")})},updatePlaylist:function(t,s){var e=t.dispatch;t.commit;P.put("/playlists/"+s._id,s).then(function(t){e("getPlaylists")})},removeFromPlaylist:function(t,s){var e=t.dispatch,i=(t.commit,t.state);i.activeList.songs.splice(s,1),P.post("/playlists/"+i.activeList._id,i.activeList).then(function(t){e("getPlaylists")})},deletePlaylist:function(t,s){var e=t.dispatch;t.commit;P.delete("/playlists/"+s._id,s).then(function(t){e("getPlaylists")})}}});i.a.config.productionTip=!1,new i.a({el:"#app",router:f,store:L,components:{App:n},template:"<App/>"})},TKZ0:function(t,s){},zvn0:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.749f271a6f14ddafe479.js.map